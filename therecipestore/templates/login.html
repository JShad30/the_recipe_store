{% extends 'base.html' %}
{% block content %}

<section class="login-form-section">
    
    <!--Section that contains the form-->
    <div class="login-form-container">
        <h3 class="login-title">Log in</h3>
        
        <!--Presenting the flashed message to the user when they've filled in the sign up form-->
        {% with messages = get_flashed_messages() %}
        {% if messages %}
        {% for message in messages %}
        <!--HTML presentation of the message-->
        <p class="userhome-details-paragraph">{{ message }}</p>
        {% endfor %}
        {% endif %}
        {% endwith %}
        
        <!--Form-->
        <form class="login-form" method="POST">
            <!--Text box for the user to fill in their username-->
            <fieldset class="login-form-fieldset">

                {% if form.email.errors %}
                    <div class="form-group-errors">
                        <div class="form-group">
                            {{ form.email.label(class="login-textbox-label") }}
                            {{ form.email(class="login-textbox", placeholder="Type Email Address") }}
                        </div>
                        <div class="invalid-feedback">
                            {% for error in form.email.errors %}
                                <span class="signup-error-message">{{ error }}</span>
                            {% endfor %}
                        </div>
                    </div>
                {% else %}
                    <div class="form-group">
                        {{ form.email.label(class="login-textbox-label") }}
                        {{ form.email(class="login-textbox", placeholder="Type Email Address") }}
                    </div>
                {% endif %}

                
                {% if form.password.errors %}
                    <div class="form-group-errors">
                        <div class="form-group">
                            {{ form.password.label(class="login-textbox-label") }}
                            {{ form.password(class="login-textbox", placeholder="Type Password") }}
                        </div>
                        <div class="invalid-feedback">
                            {% for error in form.password.errors %}
                                <span class="signup-error-message">{{ error }}</span>
                            {% endfor %}
                        </div>
                    </div>
                {% else %}
                    <div class="form-group">
                        {{ form.password.label(class="login-textbox-label") }}
                        {{ form.password(class="login-textbox", placeholder="Type Password") }}
                    </div>
                {% endif %}

            </fieldset>
            {{ form.submit(class="login-button") }}
            <!--Submit button-->

        </form>
        
        <!--If the user is already a member they are given the option to go to the sign up page-->
        <p class="login-form-message">Not yet a member? Visit our <a href="{{ url_for('signup') }}">Sign Up</a> page.</p>
    </div>
    
</section>

{% endblock %}